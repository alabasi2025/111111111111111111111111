# وثيقة بنية المجلدات الكاملة للمشروع الموحد

**المهمة 14: إعداد بنية المجلدات**

تصف هذه الوثيقة بنية المجلدات المقترحة للمشروع الموحد (Monorepo) الذي يهدف إلى دمج تطبيقات الواجهة الأمامية (Frontend) والخلفية (Backend) والمكتبات المشتركة في مستودع واحد. تم تصميم هذه البنية لتعزيز **قابلية الصيانة**، و**إعادة استخدام الكود**، و**تسهيل العمل التعاوني** بين فرق التطوير المختلفة.

---

## 1. البنية العامة للمستودع الموحد (Monorepo)

تعتمد البنية على مفهوم المستودع الموحد، حيث يتم تجميع جميع المشاريع الفرعية والمكتبات المشتركة تحت مجلد رئيسي واحد هو `packages/`.

```
/
├── .github/                  # ملفات إعدادات GitHub Actions و CI/CD
├── .vscode/                  # إعدادات VS Code الموصى بها للمشروع
├── docs/                     # وثائق المشروع العامة (مثل README.md، CONTRIBUTING.md)
├── tools/                    # أدوات مساعدة وسكربتات للبناء والنشر
├── packages/                 # المجلد الرئيسي الذي يحتوي على جميع المشاريع والمكتبات
│   ├── frontend/             # مشروع الواجهة الأمامية (React/Next.js)
│   ├── backend/              # مشروع الواجهة الخلفية (Python/Flask/FastAPI)
│   ├── shared-ui/            # مكتبة مكونات واجهة المستخدم المشتركة
│   ├── shared-utils/         # مكتبة الدوال والمساعدات المشتركة
│   └── ...                   # أي مشاريع أو مكتبات فرعية أخرى
├── .gitignore                # ملف تجاهل الملفات
├── package.json              # ملف إعدادات Monorepo (لإدارة التبعيات والأوامر)
└── README.md                 # الوصف العام للمشروع
```

---

## 2. تفصيل المجلدات الرئيسية

| المجلد | الوصف | أمثلة للمحتوى |
| :--- | :--- | :--- |
| **`.github/`** | يحتوي على ملفات إعدادات سير العمل (Workflows) الخاصة بـ **GitHub Actions**، والتي تُستخدم للأتمتة مثل الاختبار المستمر (CI) والنشر المستمر (CD). | `workflows/ci.yml`, `workflows/deploy.yml` |
| **`.vscode/`** | يحتوي على إعدادات محرر **VS Code** الموصى بها للمشروع، مثل الإضافات المقترحة (Extensions) وإعدادات مساحة العمل (Workspace Settings). | `extensions.json`, `settings.json` |
| **`docs/`** | مخصص لوثائق المشروع عالية المستوى، مثل دليل الإعداد، مبادئ التصميم، أو وثائق البنية العامة. | `SETUP.md`, `ARCHITECTURE.md`, `CONTRIBUTING.md` |
| **`tools/`** | يحتوي على سكربتات وأدوات مساعدة تُستخدم في عملية التطوير أو البناء أو النشر، والتي لا تنتمي إلى أي مشروع فرعي محدد. | `build-script.sh`, `db-migration-tool.py` |
| **`packages/`** | **المجلد الأهم**، حيث يتم تجميع جميع المشاريع والتطبيقات والمكتبات الفرعية داخله. | `frontend/`, `backend/`, `shared-ui/` |

---

## 3. تفصيل بنية المشاريع الفرعية (`packages/`)

### 3.1. مشروع الواجهة الأمامية (`packages/frontend/`)

يفترض أن يكون هذا المشروع تطبيق ويب حديث مبني باستخدام React أو Next.js.

```
packages/frontend/
├── public/                   # الملفات الثابتة (صور، أيقونات، manifest)
├── src/                      # كود المصدر للتطبيق
│   ├── components/           # المكونات القابلة لإعادة الاستخدام (مثل Button, Card)
│   ├── pages/                # صفحات التطبيق (مثل Home, Profile)
│   ├── hooks/                # Custom React Hooks
│   ├── styles/               # ملفات الأنماط (CSS/SASS/Styled Components)
│   ├── services/             # طبقة التفاعل مع الواجهة الخلفية (API calls)
│   └── App.tsx               # نقطة الدخول الرئيسية للتطبيق
├── package.json              # تبعيات وإعدادات الواجهة الأمامية
└── tsconfig.json             # إعدادات TypeScript
```

### 3.2. مشروع الواجهة الخلفية (`packages/backend/`)

يفترض أن يكون هذا المشروع واجهة برمجية (API) مبنية باستخدام Python (مثل Flask أو FastAPI).

```
packages/backend/
├── app/                      # كود المصدر للتطبيق
│   ├── api/                  # نقاط النهاية (Endpoints) مقسمة حسب الوظيفة
│   ├── core/                 # الإعدادات الأساسية، المساعدات العامة
│   ├── models/               # تعريفات نماذج البيانات (Database Models)
│   ├── services/             # منطق الأعمال (Business Logic)
│   └── main.py               # نقطة الدخول الرئيسية للتطبيق
├── tests/                    # ملفات الاختبارات (الوحدوية والتكاملية)
├── requirements.txt          # قائمة تبعيات Python
└── Dockerfile                # ملف إعداد Docker
```

### 3.3. المكتبات المشتركة (`packages/shared-ui/` و `packages/shared-utils/`)

هذه المجلدات ضرورية لتحقيق مبدأ **إعادة استخدام الكود** وتقليل التكرار.

| المجلد | الوصف | أمثلة للمحتوى |
| :--- | :--- | :--- |
| **`packages/shared-ui/`** | مكتبة مكونات واجهة المستخدم (UI Components) التي يمكن استخدامها في جميع تطبيقات الواجهة الأمامية. | `Button.tsx`, `Theme.ts`, `colors.ts` |
| **`packages/shared-utils/`** | مكتبة تحتوي على دوال ومساعدات لا ترتبط بواجهة المستخدم، مثل دوال معالجة التاريخ، أو التحقق من الصحة (Validation). | `date-formatters.ts`, `validators.ts`, `logger.ts` |

---

## 4. المزايا الرئيسية لهذه البنية

1.  **المركزية (Centralization):** جميع الأجزاء في مكان واحد، مما يسهل البحث والتنقل بين المشاريع.
2.  **إعادة الاستخدام (Reusability):** المكتبات المشتركة (`shared-ui/`, `shared-utils/`) تضمن عدم تكرار الكود.
3.  **التناسق (Consistency):** يمكن تطبيق قواعد تنسيق (Linting) واختبار (Testing) موحدة على جميع المشاريع.
4.  **إدارة التبعيات (Dependency Management):** استخدام ملف `package.json` رئيسي (أو أداة Monorepo مثل Lerna/Nx) لإدارة التبعيات المشتركة بكفاءة.

---

**ملاحظة:** يمكن استخدام أدوات مثل **Lerna** أو **Nx** أو **Turborepo** لإدارة هذا النوع من المستودعات الموحدة بشكل فعال، خاصة في مهام البناء والاختبار المتوازية.