# وثيقة المتطلبات الوظيفية للنظام المحاسبي الذكي (AI-Powered Accounting System)

## 1. المقدمة

تهدف هذه الوثيقة إلى تحديد المتطلبات الوظيفية الشاملة لنظام محاسبي ذكي ومبتكر، مصمم لدمج أحدث تقنيات الذكاء الاصطناعي (AI) لضمان الأتمتة الكاملة، وقابلية التوسع (Scalability) للشركات الكبيرة، ومواكبة أعلى المعايير العالمية. يعتمد التصميم على استنساخ وتطوير المميزات الأساسية لنظام "أونكس إي آر بي" (Onyx ERP) المحاسبي، مع تطبيق هيكل هرمي مرن وإمكانيات ذكية متقدمة.

## 2. المتطلبات الهيكلية والبنية الأساسية

### 2.1. الهيكل الهرمي للنظام (Unit-Organization-Branch Structure)

يجب أن يتبع النظام هيكلاً هرمياً صارماً لضمان الفصل والتحكم في البيانات المحاسبية:

| المستوى الهرمي | المفهوم | الوظيفة المحاسبية | ملاحظات |
| :--- | :--- | :--- | :--- |
| **الوحدة (Unit)** | النظام نفسه | المستوى الأعلى للتحكم | يتم إنشاؤها تلقائياً. |
| **المؤسسة (Organization)** | الوحدة المحاسبية | كيان محاسبي مستقل | يمكن إنشاء مؤسسات متعددة داخل الوحدة الواحدة، وتكون كل مؤسسة منفصلة تماماً عن الأخرى من كل شيء. |
| **الفرع (Branch)** | وحدة عمل فرعية | مركز تكلفة أو ربح | يرتبط بالمؤسسة، وتكون العناصر المحاسبية إما عامة للمؤسسة أو محددة للفرع. |

**المتطلبات الوظيفية الهيكلية:**

*   **R1.1:** يجب أن يدعم النظام إنشاء وإدارة مؤسسات متعددة داخل الوحدة الواحدة، مع ضمان الفصل التام للبيانات المحاسبية لكل مؤسسة.
*   **R1.2:** يجب توفير واجهة مخصصة لإدارة ومزامنة العمليات البينية (Inter-Organization Transactions) بين المؤسسات المختلفة داخل الوحدة، وكذلك بين الوحدات (Inter-Unit Transactions).
*   **R1.3:** يجب أن تكون العناصر المحاسبية (الحسابات، الصناديق، البنوك) قابلة للربط إما بشكل **عام** (مرتبطة بجميع الفروع داخل المؤسسة) أو بشكل **محدد** (مرتبطة بفرع معين).
*   **R1.4:** يجب أن يظهر للمستخدم في أي فرع فقط الحسابات المحددة لهذا الفرع أو الحسابات العامة المرتبطة بالمؤسسة.

### 2.2. النظام المحاسبي كوحدة مستقلة (Standalone Accounting Module)

*   **R2.1:** يجب بناء النظام المحاسبي كوحدة مستقلة (Standalone) ومنفصلة عن باقي مكونات النظام، مع الحفاظ على إمكانية دمجه.
*   **R2.2:** يجب أن يكون النظام المحاسبي جزءاً أساسياً وغير قابل للإغفال عند بناء أي نظام متكامل.
*   **R2.3:** يجب فصل المميزات المحاسبية الرسمية (Official Accounting Features) عن المميزات المخصصة لوحدات عمل معينة لضمان قابلية النظام للتكيف مع شرائح عمل أخرى مستقبلاً.

## 3. المتطلبات الوظيفية المحاسبية الأساسية

### 3.1. استنساخ نظام "أونكس إي آر بي" (Onyx ERP)

*   **R3.1:** يجب استنساخ جميع المميزات والوظائف الموجودة في نظام "أونكس إي آر بي" المتعلقة بالإعدادات والتهيئة (Settings and Configuration) ونظام دفتر الحسابات (Ledger System).
*   **R3.2:** يجب استنساخ منهجية قيود اليومية (Journal Entries) وكل ما يتعلق بها من وظائف، بما في ذلك سندات الصرف والقبض (Payment and Receipt Vouchers).

### 3.2. الدليل المحاسبي الذكي (Smart Chart of Accounts)

*   **R4.1:** يجب تصميم الدليل المحاسبي على شكل **"شجرة ذكية" (Smart Tree)**، بحيث يكون هيكلاً هرمياً ومرناً.
*   **R4.2:** يجب أن يكون الدليل المحاسبي مدعوماً بالذكاء الاصطناعي (AI-Powered) لتبسيط عملية الإدارة والتعديل والبحث.
*   **R4.3:** يجب أن يتم إنشاء وتعديل الدليل المحاسبي والحسابات التحليلية (Analytical Accounts) عبر واجهة **الدردشة التفاعلية (Chat Interface)** لتمكين المستخدم من توجيه العملية بشكل مرن.

## 4. متطلبات الذكاء الاصطناعي والأتمتة

### 4.1. الذكاء الاصطناعي المركزي (Central Artificial Intelligence)

*   **R5.1:** يجب إنشاء تبويب أو واجهة مخصصة تسمى **"الذكاء الاصطناعي المركزي"** كنقطة تحكم وإدارة لجميع وظائف وميزات الذكاء الاصطناعي المدمجة في النظام.
*   **R5.2:** يجب أن يدعم الذكاء الاصطناعي المركزي النظام بشكل شامل في جميع مميزاته.

### 4.2. الأتمتة الكاملة للعمليات المحاسبية

*   **R6.1:** يجب أن يتمتع الذكاء الاصطناعي المركزي بالقدرة على تنفيذ العمليات المحاسبية الأساسية بشكل آلي، بما في ذلك إضافة القيود المحاسبية، وسندات الصرف والقبض، وترحيل العمليات إلى الحسابات.
*   **R6.2:** **الإنشاء التلقائي للحسابات:** يجب أن يكون الذكاء الاصطناعي قادراً على فحص وجود الحساب المطلوب للعملية، وفي حالة عدم وجوده، يقوم **بإنشاء الحساب تلقائياً** ثم تسجيل العملية.

### 4.3. التعلم السياقي للذكاء الاصطناعي (Contextual AI Learning)

*   **R7.1:** يجب أن يتضمن الذكاء الاصطناعي آلية للتعلم من العمليات المحاسبية السابقة داخل كل **"صندوق" (Fund)** أو حساب نقدي.
*   **R7.2:** يجب على الذكاء الاصطناعي تتبع وحفظ العمليات التي تتم داخل كل صندوق لتحديد الحسابات الأكثر استخداماً منه.
*   **R7.3:** يهدف هذا التعلم إلى تحسين عملية الأتمتة والتوجيه التلقائي للحسابات عند طلب ترحيل سندات الصرف أو القبض من صندوق معين.

## 5. متطلبات سير العمل المتقدمة (اللامركزية والمطابقة)

### 5.1. منهجية ترحيل المعاملات اللامركزية والمطابقة الجزئية

*   **R8.1:** يجب تطبيق آلية عمل ترحيل لامركزية تهدف إلى تقليل الاعتمادية على محاسب واحد لكل وحدة محاسبية.
*   **R8.2:** **ترحيل الموظف:** يجب أن يتمكن الموظف من تسجيل وترحيل معاملاته (إيرادات ومصروفات) أولاً بأول إلى **"حسابات وسيطة"** ضمن **"وحدة أعمال الموظفين"** (Employee Work Unit).
*   **R8.3:** **دور المحاسب (المطابقة الجزئية):** يجب أن يقتصر دور المحاسب على مطابقة المعاملات الجاهزة من وحدة الموظفين مع العمليات الواردة من **"وحدة المحاسبين"** (Accountants Unit) التي تستمد بياناتها من كشوف الحسابات البنكية (الصرافين).
*   **R8.4:** يجب أن يقتصر تركيز المحاسب على مطابقة العمليات المرتبطة باسم الموظف والعمليات المحفوظة مسبقاً في النظام، مع تجاهل العمليات غير المرتبطة بالوحدة المحاسبية للموظف.
*   **R8.5:** يجب توفير آلية **"سند صرف/توريد"** في وحدة أعمال الموظفين لتسجيل عملية توريد الإيرادات المستلمة إلى الصراف/البنك.

## 6. متطلبات الإعدادات والتوثيق

### 6.1. إدارة الإعدادات الهرمية

*   **R9.1:** يجب توفير صفحة **إعدادات عامة (Centralized Settings)** في أعلى مستوى هرمي (الوحدة) تشمل جميع الإعدادات التي تؤثر على المستويات الأدنى.
*   **R9.2:** يجب توفير صفحات **إعدادات فرعية (Decentralized/Local Settings)** داخل كل شاشة أو مستوى هرمي (المؤسسة، الفرع) للتحكم في الإعدادات الخاصة بهذا المستوى فقط.

### 6.2. التوثيق والاختبار

*   **R10.1:** يجب تسجيل وتوثيق جميع المميزات والوظائف المتفق عليها داخل **"قائمة مميزات النظام"** (System Features List) الداخلية لضمان التوثيق الشامل.
*   **R10.2:** عند تطوير أي ميزة جديدة، يجب إنشاء **أداة اختبار آلية (Automated Testing Tool)** تقوم باختبار الإضافة بشكل شامل.
*   **R10.3:** يجب أن تُنشئ أداة الاختبار تقريراً مفصلاً (Detailed Report) بنتائج الاختبار التجريبي لكل إضافة جديدة.